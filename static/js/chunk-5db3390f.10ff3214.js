(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5db3390f"],{"470d":function(e,t,n){"use strict";n("4fb1")},"4fb1":function(e,t,n){},6711:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return d}));n("3b32");var r=n("b775"),o={tenantId:sessionStorage.getItem("tenantId"),orgId:sessionStorage.getItem("orgId"),garde:JSON.parse(localStorage.getItem("stuGradeId"))},s=o.orgId,a=o.garde,i="".concat(o.tenantId,"/").concat(s,"/").concat(a);function c(e){return Object(r.a)({url:"/studentProcessReport/reportProgress/".concat(i),method:"get",params:e})}function l(e){return Object(r.a)({url:"/studentProcessReport/reportDetails/".concat(i),method:"get",params:e})}function u(e){return Object(r.a)({url:"/studentProcessReport/reportDetailed/".concat(i),method:"get",params:e})}function p(e){return Object(r.a)({url:"/studentProcessReport/sendSmsDropDownBoxData/".concat(i),method:"get",params:e})}function d(e){return Object(r.a)({url:"/studentProcessReport/insertMessage/".concat(i),method:"post",data:e})}},ab0af:function(e,t,n){"use strict";n.r(t);n("75b5"),n("f132"),n("8133");var r=n("6711"),o={name:"board",components:{TitleName:function(){return n.e("chunk-e7b52ff2").then(n.bind(null,"89dd"))}},props:{},data:function(){return{spinning:!1,groupSign:1,list:[{id:1,name:"信息采集",completePeopleNum:1500,surplusPeopleNum:0,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]},{id:2,name:"开学到校",complete:800,remaining:300,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]},{id:3,name:"提交资料",complete:1200,remaining:300,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]}],list1:[],reportProgress:{},visibleProgress:!1,importLinkSelect:[{id:1,name:"在线交费"},{id:2,name:"开学报到"},{id:3,name:"领取资料"},{id:4,name:"领军训服"},{id:5,name:"教室集合"}],visibleReminder:!1,SendSmsDrop:[],form:{processId:0,content:null},labelCol:{span:2},wrapperCol:{span:22}}},methods:{getReportProgress:function(){var e=this;Object(r.d)().then((function(t){e.reportProgress=t.data}))},getReportDetails:function(){var e=this;this.spinning=!0,Object(r.c)({sign:this.groupSign}).then((function(t){e.list1=t.data,e.spinning=!1}))},getSendSmsDropDownBoxData:function(){var e=this;Object(r.e)().then((function(t){e.SendSmsDrop=t.data}))},insertMessage:function(){var e=this;""==this.form.content||null==this.form.content||null==this.form.processId?this.$message.error("请填写内容"):Object(r.a)(this.form).then((function(t){e.$message.success("操作成功"),e.visibleReminder=!1})).catch((function(t){e.$message.error("操作失败")}))},getPercent:function(e,t){return e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)||t<=0?0:Math.round(e/t*1e4)/100},handleOkProgress:function(){},synchronous:function(){this.$createElement;this.$confirm({title:"提醒",icon:"1",width:700,content:function(e){return e("div",{class:"synchronous-box"},[e("div",["确定将以下信息同步至运城智慧教育平台"]),e("ul",[e("li",["1、班级：当前已创建班级",e("span",[20]),"个"]),e("li",["2、学生：已分班学生",e("span",[20]),"人，尚有",e("span",{style:"color:#EA4546"},[20]),"人未分班"]),e("li",["3、家长：",e("span",[20]),"人"])])])},onOk:function(){},onCancel:function(){}})}},created:function(){this.getReportProgress(),this.getReportDetails(),this.getSendSmsDropDownBoxData()}},s=(n("470d"),n("d887"),n("cba8")),a=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("TitleName",{attrs:{titleName:"报到看板"}}),n("div",{staticClass:"content"},[n("div",{staticClass:"progress"},[n("div",[n("h3",[e._v("报到进度")]),n("div",{staticClass:"buttons"},[n("a-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.push("/board/detail")}}},[e._v("报到明细")]),n("a-button",{attrs:{size:"small"},on:{click:function(t){e.visibleProgress=!e.visibleProgress}}},[e._v("变更进度")]),n("a-button",{attrs:{size:"small"},on:{click:e.synchronous}},[e._v("同步信息至云平台")])],1)]),n("div",[n("div",[n("div",[n("span",[e._v(e._s(e.reportProgress.admission||0))]),e._v("人 "),n("br"),e._v(" 录取 ")]),e._m(0)]),n("div",[n("div",[n("span",[e._v(e._s(e.reportProgress.informationAcquisition||0))]),e._v("人 "),n("br"),e._v(" 信息采集 ")]),n("div",[n("div",{style:{width:parseInt(e.getPercent(e.reportProgress.informationAcquisition,e.reportProgress.admission))+"%"}})])]),n("div",[n("div",[n("span",[e._v(e._s(e.reportProgress.completeTheReport||0))]),e._v("人 "),n("br"),e._v(" 完成报到 ")]),n("div",[n("div",{style:{width:parseInt(e.getPercent(e.reportProgress.completeTheReport,e.reportProgress.admission))+"%"}})])])])]),n("div",{staticClass:"details"},[n("div",[n("h3",[e._v("报到详情 "),n("a-icon",{attrs:{type:"bell",theme:"filled"},on:{click:function(t){e.visibleReminder=!e.visibleReminder}}})],1),n("a-radio-group",{on:{change:function(t){return e.getReportDetails()}},model:{value:e.groupSign,callback:function(t){e.groupSign=t},expression:"groupSign"}},[n("a-radio-button",{class:"1"==e.groupSign?"primary":"",attrs:{value:"1"}},[e._v("环节")]),n("a-radio-button",{class:"2"==e.groupSign?"primary":"",attrs:{value:"2"}},[e._v("班级")])],1)],1),n("div",[n("a-spin",{attrs:{spinning:e.spinning}},[n("a-collapse",{attrs:{expandIconPosition:"right",bordered:!1}},e._l(e.list1,(function(t){return n("a-collapse-panel",{key:t.id},[n("template",{slot:"header"},[n("a-row",[n("a-col",{attrs:{span:3}},[e._v(" "+e._s(t.name)+e._s(2==e.groupSign?"班":"")+" ")]),n("a-col",{attrs:{span:15}},[n("a-progress",{attrs:{percent:e.getPercent(t.completePeopleNum,t.surplusPeopleNum+t.completePeopleNum),strokeWidth:14,"stroke-color":{"0%":"#71B8F9","100%":"#58D3F7"}}})],1),n("a-col",{attrs:{span:3}},[e._v(" 完成"+e._s(t.completePeopleNum||0)+" ")]),n("a-col",{attrs:{span:3}},[e._v(" 剩余"+e._s(t.surplusPeopleNum||0)+" ")])],1)],1),n("div",{staticClass:"list"},e._l(t.resultList,(function(t){return n("a-row",{key:t.id},[n("a-col",{attrs:{span:3}},[e._v(" "+e._s(t.name)+" "+e._s(1==e.groupSign?"班":"")+" ")]),n("a-col",{attrs:{span:15}},[n("a-progress",{attrs:{percent:e.getPercent(t.completePeopleNum,t.surplusPeopleNum+t.completePeopleNum),strokeWidth:14,"stroke-color":{"0%":"#F5D56D","100%":"#FDE38E"}}})],1),n("a-col",{attrs:{span:3}},[e._v(" 完成"+e._s(t.completePeopleNum||0)+" ")]),n("a-col",{attrs:{span:3}},[e._v(" 剩余"+e._s(t.surplusPeopleNum||0)+" ")])],1)})),1)],2)})),1)],1)],1)])]),n("a-modal",{attrs:{title:"变更进度",width:"600px"},on:{ok:e.handleOkProgress},model:{value:e.visibleProgress,callback:function(t){e.visibleProgress=t},expression:"visibleProgress"}},[n("template",{slot:"footer"},[n("a-button",{attrs:{type:"primary"}},[e._v("导入")])],1),n("div",{staticClass:"progress-div-box-one"},[n("span",[e._v("请选择导入环节")]),n("a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"请选择"}},e._l(e.importLinkSelect,(function(t){return n("a-select-option",{key:t.id,attrs:{value:t.id,label:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1),n("a-button",{staticClass:"font-color-blue",attrs:{type:"link"}},[e._v(" 下载导入模板 ")])],1),n("div",{staticClass:"progress-div-box-one"},[n("span",[e._v("导入")]),n("a-button",{staticClass:"font-color-blue",attrs:{type:"link"}},[n("a-icon",{attrs:{type:"file",theme:"filled"}}),e._v("选择文档 ")],1),n("a-icon",{attrs:{type:"info-circle"}})],1)],2),n("a-modal",{attrs:{title:"发送提醒",width:"800px"},on:{ok:e.insertMessage},model:{value:e.visibleReminder,callback:function(t){e.visibleReminder=t},expression:"visibleReminder"}},[n("a-radio-group",{staticClass:"reminder-btn-box",attrs:{"default-value":"a","button-style":"solid"}},[n("a-radio-button",{staticClass:"primary",attrs:{value:"a"}},[e._v(" 消息提醒 ")]),n("a-radio-button",{attrs:{value:"b",disabled:""}},[e._v(" 短信提醒(暂不支持) ")])],1),n("div",{staticClass:"info-box"},[n("a-form-model",{attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-form-model-item",{attrs:{label:"发送对象",colon:!1}},[n("a-select",{staticStyle:{width:"200px"},model:{value:e.form.processId,callback:function(t){e.$set(e.form,"processId",t)},expression:"form.processId"}},e._l(e.SendSmsDrop,(function(t){return n("a-select-option",{key:t.processId,attrs:{value:t.processId,lable:t.name+t.completePeopleNum+"人"}},[e._v(" "+e._s(t.name+t.completePeopleNum+"人")+" ")])})),1)],1),n("a-form-model-item",{attrs:{label:"发送内容",colon:!1}},[n("a-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1)],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{width:"100%"}})])}],!1,null,"71bec892",null);t.default=a.exports},b775:function(e,t,n){"use strict";n("75b5"),n("9188"),n("6236"),n("9c7e");var r=n("cebe"),o=n.n(r),s=n("f3e4"),a=o.a.create({baseURL:"https://test01.bysnt.com/welcome-report-api",withCredentials:!0,timeout:3e4});o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.interceptors.request.use((function(e){e.method;var t=Object(s.a)();return t&&(e.headers.token=t,e.headers["Cache-Control"]="no-cache",e.headers.Pragma="no-cache"),sessionStorage.getItem("user_info")&&(e.headers.tenantId=JSON.parse(sessionStorage.getItem("user_info")).tenantId),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){var t=Number(e.data.code);if(0===t||200===t||500===t)return e.data;switch(t){case 401:localStorage.clear(),sessionStorage.clear(),Object(s.b)(),sessionStorage.setItem("backUrl",location.pathname+location.search),location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index";break;default:return Promise.reject(e.message||"error")}}),(function(e){return Promise.reject(e)})),t.a=a},d887:function(e,t,n){"use strict";n("e0c3")},e0c3:function(e,t,n){},f3e4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));n("6236"),n("4e2c"),n("3ad4");function r(){return i("template_token")}function o(e){return a("template_token",e)}function s(){var e,t;(t=i(e="template_token"))&&a(e,t,-1)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="";if(n){var s=new Date;s.setTime(s.getTime()+1e3*n),o="; expires="+s.toGMTString()}document.cookie=e+"="+t+o+(r?"; path="+r:"")}function i(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var o=n[r].trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}}}]);