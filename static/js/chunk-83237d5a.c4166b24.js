(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-83237d5a"],{"06c4":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("59cd"),r("ef16"),r("4f4e"),r("1945"),r("2f07"),r("64de");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"219e7":function(e,t,r){"use strict";r("4784")},4784:function(e,t,r){},"644f":function(e,t,r){"use strict";r.d(t,"v",(function(){return d})),r.d(t,"j",(function(){return l})),r.d(t,"w",(function(){return m})),r.d(t,"t",(function(){return f})),r.d(t,"x",(function(){return p})),r.d(t,"b",(function(){return b})),r.d(t,"s",(function(){return v})),r.d(t,"a",(function(){return h})),r.d(t,"k",(function(){return g})),r.d(t,"u",(function(){return O})),r.d(t,"r",(function(){return y})),r.d(t,"i",(function(){return j})),r.d(t,"y",(function(){return I})),r.d(t,"z",(function(){return _})),r.d(t,"g",(function(){return w})),r.d(t,"p",(function(){return T})),r.d(t,"c",(function(){return D})),r.d(t,"l",(function(){return k})),r.d(t,"m",(function(){return P})),r.d(t,"d",(function(){return S})),r.d(t,"q",(function(){return C})),r.d(t,"h",(function(){return N})),r.d(t,"f",(function(){return R})),r.d(t,"o",(function(){return x})),r.d(t,"e",(function(){return F})),r.d(t,"n",(function(){return q}));var n=r("06c4"),o=(r("3b32"),r("b775")),a={tenantId:"002",orgId:"567",garde:JSON.parse(localStorage.getItem("stuGradeId"))},i=a.tenantId,c=a.orgId,s=a.garde,u="".concat(i,"/").concat(c,"/").concat(s);function d(e){return Object(o.a)({url:"/reportCustom/queryDutyInfoByOrgId?tenantId=".concat(i,"&orgId=").concat(c),method:"get",params:e})}function l(e){return Object(o.a)({url:"/dictProcesselement/initProcesselementList",method:"get",params:e})}function m(e){return Object(o.a)({url:"/reportCustom/queryPostUserInfoByEs",method:"get",params:{tenantId:i,orgId:c}})}function f(e){return Object(o.a)({url:"/reportProcessRelease/insertReportProcessRelease",method:"post",data:Object(n.a)({tenantId:i,orgId:c,grade:s},e)})}function p(){return Object(o.a)({url:"/reportProcess/reportProcessList",method:"get",params:{tenantId:i,orgId:c,grade:s}})}function b(e){return Object(o.a)({url:"/dictProcesselement/dictProcesselementList",method:"get",params:Object(n.a)({tenantId:i,orgId:c,grade:s},e)})}function v(e){return Object(o.a)({url:"/reportProcess/insertReportProcess",method:"post",data:Object(n.a)({tenantId:i,orgId:c,grade:s},e)})}function h(){return Object(o.a)({url:"/dictCollection/dictCollectionList",method:"get",params:{tenantId:i,orgId:c,grade:s}})}function g(e){return Object(o.a)({url:"/dictCollection/insertDictCollection",method:"post",data:Object(n.a)({tenantId:i,orgId:c,grade:s},e)})}function O(e){return Object(o.a)({url:"/reportInfocollection/reportInfoCollectionPreview",method:"get",params:e})}function y(e){return Object(o.a)({url:"/reportInfocollection/insertReportInfocollection",method:"post",data:e})}function j(e){return Object(o.a)({url:"/reportInfocollection/infocollectionList/".concat(u),method:"get",params:e})}function I(e){return Object(o.a)({url:"/reportInfocollection/updateTime",method:"put",params:e})}function _(e){return Object(o.a)({url:"/reportInfocollection/withdraw",method:"put",params:e})}function w(e){return Object(o.a)({url:"/reportLinepay/getReportLinepay",method:"get",params:e})}function T(e){return Object(o.a)({url:"/reportLinepay/insertOrUpdateReportLinepay",method:"post",data:e})}function D(e){return Object(o.a)({url:"/reportAdmissionletter/getDictTemplateList",method:"get",params:e})}function k(e){return Object(o.a)({url:"/reportAdmissionletter/insertDictTemplate",method:"post",data:e})}function P(e){return Object(o.a)({url:"/reportAdmissionletter/insertOrUpdateReportAdmissionletter",method:"post",data:e})}function S(e){return Object(o.a)({url:"/reportAdmissionletter/getReportAdmissionletterInfo",method:"get",params:e})}function C(e){return Object(o.a)({url:"/reportSchoolopen/insertOrUpdateReportSchoolopen",method:"post",data:e})}function N(e){return Object(o.a)({url:"/reportSchoolopen/getReportSchoolopenInfo",method:"get",params:e})}function R(e){return Object(o.a)({url:"/reportDormitorymove/getReportDormitorymoveInfo",method:"get",params:e})}function x(e){return Object(o.a)({url:"/reportDormitorymove/insertOrUpdateReportDormitorymove",method:"post",data:e})}function F(e){return Object(o.a)({url:"/reportCustom/getReportCustomInfo",method:"get",params:e})}function q(e){return Object(o.a)({url:"/reportCustom/insertOrUpdateReportCustom",method:"post",data:e})}},9057:function(e,t,r){"use strict";r.r(t);r("75b5"),r("f132"),r("8133"),r("dcb2"),r("4f4e"),r("0c54"),r("b8bc"),r("6236"),r("4e2c"),r("9188"),r("c30f"),r("0224");var n=r("caaf"),o=r.n(n),a=r("644f"),i={name:"schoolReport",components:{TitleName:function(){return r.e("chunk-e7b52ff2").then(r.bind(null,"89dd"))},EditorTemplate:function(){return Promise.all([r.e("chunk-2d2088b7"),r.e("chunk-70fa5c10")]).then(r.bind(null,"763e"))}},data:function(){return{isFilled:!1,form:{date:[],addr:"",receiverType:1,event:"",receiver1:[],receiver2:[]},rules:{addr:[{required:!0,message:"请输入报名地点",trigger:"blur"}],date:[{required:!0,message:"请输入日期",trigger:"change"}],receiverType:[{required:!0,message:"请选择受理人",trigger:"change"}],receiver1:{required:!0,message:"请选择受理人",trigger:"change"},receiver2:{required:!0,message:"请选择受理人",trigger:"change"}},positionData:[],peopleDate:[]}},computed:{positionName:function(){var e=this;return this.positionData.filter((function(t){return e.form.receiver1.includes(t.dutyId)})).map((function(e){return e.dutyName}))},peopleName:function(){var e=this;return this.peopleDate.filter((function(t){return e.form.receiver2.includes(t.userId)})).map((function(e){return e.userName}))}},mounted:function(){var e=this;Object(a.h)({processId:this.$route.query.processId}).then((function(t){t.data&&(e.isFilled=!0,e.form.date=[t.data.startTime,t.data.endTime],e.form.addr=t.data.addr,e.form.event=t.data.event,e.form.receiverType=t.data.receiverType,1===t.data.receiverType?e.form.receiver1=t.data.receiver.split(",").map(Number):e.form.receiver2=t.data.receiver.split(",").map(Number))})),Object(a.v)().then((function(t){e.positionData=t.data})),Object(a.w)().then((function(t){e.peopleDate=t.data}))},methods:{moment:o.a,range:function(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r},disabledDate:function(e){return e<o()().subtract(1,"day")},disabledRangeTime:function(e,t){var r=this;return"start"===t?{disabledHours:function(){return r.range(0,60).splice(4,20)},disabledMinutes:function(){return r.range(30,60)},disabledSeconds:function(){return[55,56]}}:{disabledHours:function(){return r.range(0,60).splice(20,4)},disabledMinutes:function(){return r.range(0,31)},disabledSeconds:function(){return[55,56]}}},filterOption:function(e,t){return t.componentOptions.children[0].text.indexOf(e)>=0},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;var r=e.form,n=r.addr,o=r.date,i=r.event,c=r.receiverType,s=r.receiver1,u=r.receiver2;Object(a.q)({processId:e.$route.query.processId,addr:n,startTime:o[0],endTime:o[1],event:i,receiverType:c,receiver:1===c?s.toString():u.toString()}).then((function(){e.isFilled=!0}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},getEditorContent:function(e){this.form.event=e}}},c=(r("219e7"),r("cba8")),s=Object(c.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("TitleName",{attrs:{titleName:"开学报到设置","show-back-btn":""},scopedSlots:e._u([{key:"edit",fn:function(){return[e.isFilled?r("a-button",{staticClass:"base",attrs:{size:"small",shape:"round"},on:{click:function(t){e.isFilled=!1}}},[e._v(" 编辑 ")]):e._e()]},proxy:!0}])}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFilled,expression:"!isFilled"}],staticClass:"content"},[r("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:20}}},[r("a-form-model-item",{attrs:{label:"开学报到时间",required:"",prop:"date"}},[r("a-range-picker",{attrs:{"disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,"show-time":{hideDisabledOptions:!0,defaultValue:[e.moment("00:00:00","HH:mm:ss"),e.moment("11:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",valueFormat:"YYYY-MM-DD HH:mm:ss"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),r("a-form-model-item",{ref:"addr",attrs:{label:"报到地点",prop:"addr"}},[r("a-input",{attrs:{placeholder:"输入地点"},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr",t)},expression:"form.addr"}})],1),r("div",[r("a-row",[r("a-col",{attrs:{span:4,align:"right"}},[e._v(" 事件： ")]),r("a-col",{attrs:{span:20}},[r("EditorTemplate",{attrs:{html:e.form.event},on:{editorContent:e.getEditorContent}})],1)],1)],1),r("a-form-model-item",{attrs:{label:"添加受理人"}},[r("a-form-model-item",{ref:"receiverType",staticStyle:{"margin-bottom":"0"},attrs:{prop:"receiverType"}},[r("a-radio-group",{model:{value:e.form.receiverType,callback:function(t){e.$set(e.form,"receiverType",t)},expression:"form.receiverType"}},[r("a-radio",{attrs:{value:1}},[e._v(" 按职务 ")]),r("a-radio",{attrs:{value:2}},[e._v(" 指定人员 ")])],1)],1),1===e.form.receiverType?r("a-form-model-item",{ref:"receiver1",attrs:{prop:"receiver1"}},[r("a-select",{attrs:{mode:"multiple",placeholder:"按职务选择人员","filter-option":e.filterOption},model:{value:e.form.receiver1,callback:function(t){e.$set(e.form,"receiver1",t)},expression:"form.receiver1"}},e._l(e.positionData,(function(t){return r("a-select-option",{key:t.dutyId,attrs:{value:t.dutyId,label:t.dutyName}},[e._v(" "+e._s(t.dutyName)+" ")])})),1)],1):e._e(),2===e.form.receiverType?r("a-form-model-item",{ref:"receiver2",attrs:{prop:"receiver2"}},[r("a-select",{attrs:{mode:"multiple",placeholder:"选择指定人员","filter-option":e.filterOption},model:{value:e.form.receiver2,callback:function(t){e.$set(e.form,"receiver2",t)},expression:"form.receiver2"}},e._l(e.peopleDate,(function(t){return r("a-select-option",{key:t.userId,attrs:{value:t.userId,label:t.userName}},[e._v(" "+e._s(t.userName)+"("+e._s(t.userId)+") ")])})),1)],1):e._e()],1)],1),r("div",{staticClass:"save"},[r("a-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isFilled,expression:"isFilled"}],staticClass:"content"},[r("table",[r("tr",[r("td",[e._v("开学报到时间:")]),r("td",[e._v(e._s(e.form.date.join("至")))])]),r("tr",[r("td",[e._v("报到地点:")]),r("td",[e._v(e._s(e.form.addr))])]),r("tr",[r("td",[e._v("事件:")]),r("td",{domProps:{innerHTML:e._s(e.form.event)}})]),r("tr",[r("td",[e._v("受理人:")]),1===e.form.receiverType?r("td",[e._v(e._s(e.positionName.toString()))]):e._e(),2===e.form.receiverType?r("td",[e._v(e._s(e.peopleName.toString()))]):e._e()])])])],1)}),[],!1,null,"4c3df41c",null);t.default=s.exports},b775:function(e,t,r){"use strict";r("75b5"),r("9188"),r("6236"),r("9c7e");var n=r("cebe"),o=r.n(n),a=r("f3e4"),i=o.a.create({baseURL:"https://test01.bysnt.com/welcome-report-api",withCredentials:!0,timeout:3e4});o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",i.interceptors.request.use((function(e){e.method;var t=Object(a.a)();return t&&(e.headers.token=t,e.headers["Cache-Control"]="no-cache",e.headers.Pragma="no-cache"),sessionStorage.getItem("user_info")&&(e.headers.tenantId=JSON.parse(sessionStorage.getItem("user_info")).tenantId),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){var t=Number(e.data.code);if(0===t||200===t||500===t)return e.data;switch(t){case 401:localStorage.clear(),sessionStorage.clear(),Object(a.b)(),sessionStorage.setItem("backUrl",location.pathname+location.search),location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index";break;default:return Promise.reject(e.message||"error")}}),(function(e){return Promise.reject(e)})),t.a=i},f3e4:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return a}));r("6236"),r("4e2c"),r("3ad4");function n(){return c("template_token")}function o(e){return i("template_token",e)}function a(){var e,t;(t=c(e="template_token"))&&i(e,t,-1)}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="";if(r){var a=new Date;a.setTime(a.getTime()+1e3*r),o="; expires="+a.toGMTString()}document.cookie=e+"="+t+o+(n?"; path="+n:"")}function c(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var o=r[n].trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}}}]);