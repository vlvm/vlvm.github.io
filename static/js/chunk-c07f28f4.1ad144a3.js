(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c07f28f4"],{"470d":function(e,t,s){"use strict";s("4fb1")},"4fb1":function(e,t,s){},6711:function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return p})),s.d(t,"e",(function(){return u})),s.d(t,"a",(function(){return d}));s("3b32");var n=s("b775"),r={tenantId:sessionStorage.getItem("tenantId"),orgId:sessionStorage.getItem("orgId"),garde:JSON.parse(localStorage.getItem("stuGradeId"))},o=r.orgId,a=r.garde,i="".concat(r.tenantId,"/").concat(o,"/").concat(a);function c(e){return Object(n.a)({url:"/studentProcessReport/reportProgress/".concat(i),method:"get",params:e})}function l(e){return Object(n.a)({url:"/studentProcessReport/reportDetails/".concat(i),method:"get",params:e})}function p(e){return Object(n.a)({url:"/studentProcessReport/reportDetailed/".concat(i),method:"get",params:e})}function u(e){return Object(n.a)({url:"/studentProcessReport/sendSmsDropDownBoxData/".concat(i),method:"get",params:e})}function d(e){return Object(n.a)({url:"/studentProcessReport/insertMessage/".concat(i),method:"post",data:e})}},ab0af:function(e,t,s){"use strict";s.r(t);s("75b5"),s("f132"),s("8133");var n=s("6711"),r={name:"board",components:{TitleName:function(){return s.e("chunk-e7b52ff2").then(s.bind(null,"89dd"))}},props:{},data:function(){return{spinning:!1,groupSign:1,list:[{id:1,name:"信息采集",completePeopleNum:1500,surplusPeopleNum:0,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]},{id:2,name:"开学到校",complete:800,remaining:300,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]},{id:3,name:"提交资料",complete:1200,remaining:300,child:[{id:1,name:"301班",complete:1200,remaining:300},{id:2,name:"302班",complete:1200,remaining:300},{id:3,name:"303班",complete:1200,remaining:300}]}],list1:[],reportProgress:{},visibleProgress:!1,importLinkSelect:[{id:1,name:"在线交费"},{id:2,name:"开学报到"},{id:3,name:"领取资料"},{id:4,name:"领军训服"},{id:5,name:"教室集合"}],visibleReminder:!1,SendSmsDrop:[],form:{processId:0,content:null},labelCol:{span:2},wrapperCol:{span:22}}},methods:{getReportProgress:function(){var e=this;Object(n.d)().then((function(t){e.reportProgress=t.data}))},getReportDetails:function(){var e=this;this.spinning=!0,Object(n.c)({sign:this.groupSign}).then((function(t){e.list1=t.data,e.spinning=!1}))},getSendSmsDropDownBoxData:function(){var e=this;Object(n.e)().then((function(t){e.SendSmsDrop=t.data}))},insertMessage:function(){var e=this;""==this.form.content||null==this.form.content||null==this.form.processId?this.$message.error("请填写内容"):Object(n.a)(this.form).then((function(t){e.$message.success("操作成功"),e.visibleReminder=!1})).catch((function(t){e.$message.error("操作失败")}))},getPercent:function(e,t){return e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)||t<=0?0:Math.round(e/t*1e4)/100},handleOkProgress:function(){},synchronous:function(){this.$createElement;this.$confirm({title:"提醒",icon:"1",width:700,content:function(e){return e("div",{class:"synchronous-box"},[e("div",["确定将以下信息同步至运城智慧教育平台"]),e("ul",[e("li",["1、班级：当前已创建班级",e("span",[20]),"个"]),e("li",["2、学生：已分班学生",e("span",[20]),"人，尚有",e("span",{style:"color:#EA4546"},[20]),"人未分班"]),e("li",["3、家长：",e("span",[20]),"人"])])])},onOk:function(){},onCancel:function(){}})}},created:function(){this.getReportProgress(),this.getReportDetails(),this.getSendSmsDropDownBoxData()}},o=(s("470d"),s("d887"),s("cba8")),a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("TitleName",{attrs:{titleName:"报到看板"}}),s("div",{staticClass:"content"},[s("div",{staticClass:"progress"},[s("div",[s("h3",[e._v("报到进度")]),s("div",{staticClass:"buttons"},[s("a-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.push("/board/detail")}}},[e._v("报到明细")]),s("a-button",{attrs:{size:"small"},on:{click:function(t){e.visibleProgress=!e.visibleProgress}}},[e._v("变更进度")]),s("a-button",{attrs:{size:"small"},on:{click:e.synchronous}},[e._v("同步信息至云平台")])],1)]),s("div",[s("div",[s("div",[s("span",[e._v(e._s(e.reportProgress.admission||0))]),e._v("人 "),s("br"),e._v(" 录取 ")]),e._m(0)]),s("div",[s("div",[s("span",[e._v(e._s(e.reportProgress.informationAcquisition||0))]),e._v("人 "),s("br"),e._v(" 信息采集 ")]),s("div",[s("div",{style:{width:parseInt(e.getPercent(e.reportProgress.informationAcquisition,e.reportProgress.admission))+"%"}})])]),s("div",[s("div",[s("span",[e._v(e._s(e.reportProgress.completeTheReport||0))]),e._v("人 "),s("br"),e._v(" 完成报到 ")]),s("div",[s("div",{style:{width:parseInt(e.getPercent(e.reportProgress.completeTheReport,e.reportProgress.admission))+"%"}})])])])]),s("div",{staticClass:"details"},[s("div",[s("h3",[e._v("报到详情 "),s("a-icon",{attrs:{type:"bell",theme:"filled"},on:{click:function(t){e.visibleReminder=!e.visibleReminder}}})],1),s("a-radio-group",{on:{change:function(t){return e.getReportDetails()}},model:{value:e.groupSign,callback:function(t){e.groupSign=t},expression:"groupSign"}},[s("a-radio-button",{class:"1"==e.groupSign?"primary":"",attrs:{value:"1"}},[e._v("环节")]),s("a-radio-button",{class:"2"==e.groupSign?"primary":"",attrs:{value:"2"}},[e._v("班级")])],1)],1),s("div",[s("a-spin",{attrs:{spinning:e.spinning}},[s("a-collapse",{attrs:{expandIconPosition:"right",bordered:!1}},e._l(e.list1,(function(t){return s("a-collapse-panel",{key:t.id},[s("template",{slot:"header"},[s("a-row",[s("a-col",{attrs:{span:3}},[e._v(" "+e._s(t.name)+e._s(2==e.groupSign?"班":"")+" ")]),s("a-col",{attrs:{span:15}},[s("a-progress",{attrs:{percent:e.getPercent(t.completePeopleNum,t.surplusPeopleNum+t.completePeopleNum),strokeWidth:14,"stroke-color":{"0%":"#71B8F9","100%":"#58D3F7"}}})],1),s("a-col",{attrs:{span:3}},[e._v(" 完成"+e._s(t.completePeopleNum||0)+" ")]),s("a-col",{attrs:{span:3}},[e._v(" 剩余"+e._s(t.surplusPeopleNum||0)+" ")])],1)],1),s("div",{staticClass:"list"},e._l(t.resultList,(function(t){return s("a-row",{key:t.id},[s("a-col",{attrs:{span:3}},[e._v(" "+e._s(t.name)+" "+e._s(1==e.groupSign?"班":"")+" ")]),s("a-col",{attrs:{span:15}},[s("a-progress",{attrs:{percent:e.getPercent(t.completePeopleNum,t.surplusPeopleNum+t.completePeopleNum),strokeWidth:14,"stroke-color":{"0%":"#F5D56D","100%":"#FDE38E"}}})],1),s("a-col",{attrs:{span:3}},[e._v(" 完成"+e._s(t.completePeopleNum||0)+" ")]),s("a-col",{attrs:{span:3}},[e._v(" 剩余"+e._s(t.surplusPeopleNum||0)+" ")])],1)})),1)],2)})),1)],1)],1)])]),s("a-modal",{attrs:{title:"变更进度",width:"600px"},on:{ok:e.handleOkProgress},model:{value:e.visibleProgress,callback:function(t){e.visibleProgress=t},expression:"visibleProgress"}},[s("template",{slot:"footer"},[s("a-button",{attrs:{type:"primary"}},[e._v("导入")])],1),s("div",{staticClass:"progress-div-box-one"},[s("span",[e._v("请选择导入环节")]),s("a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"请选择"}},e._l(e.importLinkSelect,(function(t){return s("a-select-option",{key:t.id,attrs:{value:t.id,label:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1),s("a-button",{staticClass:"font-color-blue",attrs:{type:"link"}},[e._v(" 下载导入模板 ")])],1),s("div",{staticClass:"progress-div-box-one"},[s("span",[e._v("导入")]),s("a-button",{staticClass:"font-color-blue",attrs:{type:"link"}},[s("a-icon",{attrs:{type:"file",theme:"filled"}}),e._v("选择文档 ")],1),s("a-icon",{attrs:{type:"info-circle"}})],1)],2),s("a-modal",{attrs:{title:"发送提醒",width:"800px"},on:{ok:e.insertMessage},model:{value:e.visibleReminder,callback:function(t){e.visibleReminder=t},expression:"visibleReminder"}},[s("a-radio-group",{staticClass:"reminder-btn-box",attrs:{"default-value":"a","button-style":"solid"}},[s("a-radio-button",{staticClass:"primary",attrs:{value:"a"}},[e._v(" 消息提醒 ")]),s("a-radio-button",{attrs:{value:"b",disabled:""}},[e._v(" 短信提醒(暂不支持) ")])],1),s("div",{staticClass:"info-box"},[s("a-form-model",{attrs:{model:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[s("a-form-model-item",{attrs:{label:"发送对象",colon:!1}},[s("a-select",{staticStyle:{width:"200px"},model:{value:e.form.processId,callback:function(t){e.$set(e.form,"processId",t)},expression:"form.processId"}},e._l(e.SendSmsDrop,(function(t){return s("a-select-option",{key:t.processId,attrs:{value:t.processId,lable:t.name+t.completePeopleNum+"人"}},[e._v(" "+e._s(t.name+t.completePeopleNum+"人")+" ")])})),1)],1),s("a-form-model-item",{attrs:{label:"发送内容",colon:!1}},[s("a-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1)],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{width:"100%"}})])}],!1,null,"71bec892",null);t.default=a.exports},b775:function(e,t,s){"use strict";s("75b5"),s("9188"),s("6236"),s("9c7e");var n=s("cebe"),r=s.n(n),o=s("f3e4"),a=r.a.create({baseURL:"https://test01.bysnt.com/welcome-report-api",withCredentials:!0,timeout:3e4});r.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.interceptors.request.use((function(e){e.method;var t=Object(o.a)();return t&&(e.headers.token=t,e.headers["Cache-Control"]="no-cache",e.headers.Pragma="no-cache"),sessionStorage.getItem("user_info")&&(e.headers.tenantId=JSON.parse(sessionStorage.getItem("user_info")).tenantId),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){var t=Number(e.data.code);if(0===t||200===t||500===t)return e.data;switch(t){case 401:localStorage.clear(),sessionStorage.clear(),Object(o.b)(),sessionStorage.setItem("backUrl",location.pathname+location.search),location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index";break;default:return Promise.reject(e.message||"error")}}),(function(e){return Promise.reject(e)})),t.a=a},d887:function(e,t,s){"use strict";s("e0c3")},e0c3:function(e,t,s){}}]);