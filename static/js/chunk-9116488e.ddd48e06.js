(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9116488e"],{1164:function(e,t,r){},"2ce8":function(e,t,r){"use strict";r.r(t);r("9188"),r("7276"),r("6236"),r("0224"),r("63be"),r("9c7e");var s=r("b775");var a=r("f3e4");var o={name:"Transfer",data:function(){return{code:this.$route.query.code,isError:!1}},mounted:function(){var e,t;this.code=(e=new RegExp("(^|&)"+"code"+"=([^&]*)(&|$)"),null!=(t=window.location.search.substr(1).match(e))?unescape(t[2]):null),this.code?this.getUserData():location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index"},methods:{getUserData:function(){var e,t=this;(e={code:this.code,url:"http://127.0.0.1:5500/transfer",state:"123456"},Object(s.a)({url:"/third/callback",method:"get",params:e})).then((function(e){sessionStorage.removeItem("redirect_time"),Object(a.c)(e.data.token),sessionStorage.setItem("tenantId",e.data.tenantId),sessionStorage.setItem("orgId",e.data.orgId);var r=sessionStorage.getItem("backUrl");r?t.$router.push(r):t.$router.push("/")})).catch((function(){var e=sessionStorage.getItem("redirect_time")||0;Number(e)<5?sessionStorage.setItem("redirect_time",++e):t.isError=!0}))}}},n=(r("7d98"),r("cba8")),c=Object(n.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"shade"},[this.isError?t("p",{staticClass:"error"},[t("a-icon",{attrs:{type:"robot"}}),this._v(" 系统出错,请联系网站管理员! ")],1):this._e()])}),[],!1,null,"3a28237c",null);t.default=c.exports},"7d98":function(e,t,r){"use strict";r("1164")},b775:function(e,t,r){"use strict";r("75b5"),r("9188"),r("6236"),r("9c7e");var s=r("cebe"),a=r.n(s),o=r("f3e4"),n=a.a.create({baseURL:"https://test01.bysnt.com/welcome-report-api",withCredentials:!0,timeout:3e4});a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",n.interceptors.request.use((function(e){e.method;var t=Object(o.a)();return t&&(e.headers.token=t,e.headers["Cache-Control"]="no-cache",e.headers.Pragma="no-cache"),sessionStorage.getItem("user_info")&&(e.headers.tenantId=JSON.parse(sessionStorage.getItem("user_info")).tenantId),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){var t=Number(e.data.code);if(0===t||200===t||500===t)return e.data;switch(t){case 401:localStorage.clear(),sessionStorage.clear(),Object(o.b)(),sessionStorage.setItem("backUrl",location.pathname+location.search),location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index";break;default:return Promise.reject(e.message||"error")}}),(function(e){return Promise.reject(e)})),t.a=n}}]);