(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-547c0960"],{1164:function(e,t,r){},"2ce8":function(e,t,r){"use strict";r.r(t);r("9188"),r("7276"),r("6236"),r("0224"),r("63be"),r("9c7e");var n=r("b775");var s=r("f3e4");var o={name:"Transfer",data:function(){return{code:this.$route.query.code,isError:!1}},mounted:function(){var e,t;this.code=(e=new RegExp("(^|&)"+"code"+"=([^&]*)(&|$)"),null!=(t=window.location.search.substr(1).match(e))?unescape(t[2]):null),this.code?this.getUserData():location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index"},methods:{getUserData:function(){var e,t=this;(e={code:this.code,url:"http://127.0.0.1:5500/transfer",state:"123456"},Object(n.a)({url:"/third/callback",method:"get",params:e})).then((function(e){sessionStorage.removeItem("redirect_time"),Object(s.c)(e.data.token),sessionStorage.setItem("tenantId",e.data.tenantId),sessionStorage.setItem("orgId",e.data.orgId);var r=sessionStorage.getItem("backUrl");r?t.$router.push(r):t.$router.push("/")})).catch((function(){var e=sessionStorage.getItem("redirect_time")||0;Number(e)<5?sessionStorage.setItem("redirect_time",++e):t.isError=!0}))}}},a=(r("7d98"),r("cba8")),i=Object(a.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"shade"},[this.isError?t("p",{staticClass:"error"},[t("a-icon",{attrs:{type:"robot"}}),this._v(" 系统出错,请联系网站管理员! ")],1):this._e()])}),[],!1,null,"3a28237c",null);t.default=i.exports},"7d98":function(e,t,r){"use strict";r("1164")},b775:function(e,t,r){"use strict";r("75b5"),r("9188"),r("6236"),r("9c7e");var n=r("cebe"),s=r.n(n),o=r("f3e4"),a=s.a.create({baseURL:"https://test01.bysnt.com/welcome-report-api",withCredentials:!0,timeout:3e4});s.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.interceptors.request.use((function(e){e.method;var t=Object(o.a)();return t&&(e.headers.token=t,e.headers["Cache-Control"]="no-cache",e.headers.Pragma="no-cache"),sessionStorage.getItem("user_info")&&(e.headers.tenantId=JSON.parse(sessionStorage.getItem("user_info")).tenantId),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){var t=Number(e.data.code);if(0===t||200===t||500===t)return e.data;switch(t){case 401:localStorage.clear(),sessionStorage.clear(),Object(o.b)(),sessionStorage.setItem("backUrl",location.pathname+location.search),location.href="https://passportss2.hseduyun.net/passport/oauth/authorize?client_id=E0D55D80AAC660E8&response_type=code&redirect_uri=http://127.0.0.1:5500/management/index";break;default:return Promise.reject(e.message||"error")}}),(function(e){return Promise.reject(e)})),t.a=a},f3e4:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return o}));r("6236"),r("4e2c"),r("3ad4");function n(){return i("template_token")}function s(e){return a("template_token",e)}function o(){var e,t;(t=i(e="template_token"))&&a(e,t,-1)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s="";if(r){var o=new Date;o.setTime(o.getTime()+1e3*r),s="; expires="+o.toGMTString()}document.cookie=e+"="+t+s+(n?"; path="+n:"")}function i(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var s=r[n].trim();if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}}}]);