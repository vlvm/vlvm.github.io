(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[5858],{44042:function(e,t,r){"use strict";const n=r(55347),a=r(16943),i=r(87841);function o(e,t){switch(a(e)){case"object":return u(e,t);case"array":return s(e,t);default:return n(e)}}function u(e,t){if("function"===typeof t)return t(e);if(t||i(e)){const r=new e.constructor;for(let n in e)r[n]=o(e[n],t);return r}return e}function s(e,t){const r=new e.constructor(e.length);for(let n=0;n<e.length;n++)r[n]=o(e[n],t);return r}e.exports=o},87841:function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=r(84170);function a(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==a(e)&&(t=e.constructor,"function"===typeof t&&(r=t.prototype,!1!==a(r)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},84170:function(e){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},16943:function(e,t,r){r(90083);var n=Object.prototype.toString;function a(e){return"function"===typeof e.constructor?e.constructor.name:null}function i(e){return Array.isArray?Array.isArray(e):e instanceof Array}function o(e){return e instanceof Error||"string"===typeof e.message&&e.constructor&&"number"===typeof e.constructor.stackTraceLimit}function u(e){return e instanceof Date||"function"===typeof e.toDateString&&"function"===typeof e.getDate&&"function"===typeof e.setDate}function s(e){return e instanceof RegExp||"string"===typeof e.flags&&"boolean"===typeof e.ignoreCase&&"boolean"===typeof e.multiline&&"boolean"===typeof e.global}function c(e,t){return"GeneratorFunction"===a(e)}function l(e){return"function"===typeof e.throw&&"function"===typeof e.return&&"function"===typeof e.next}function f(e){try{if("number"===typeof e.length&&"function"===typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}function d(e){return!(!e.constructor||"function"!==typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return c(e)?"generatorfunction":"function";if(i(e))return"array";if(d(e))return"buffer";if(f(e))return"arguments";if(u(e))return"date";if(o(e))return"error";if(s(e))return"regexp";switch(a(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(l(e))return"generator";switch(t=n.call(e),t){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},55347:function(e,t,r){"use strict";
/*!
 * shallow-clone <https://github.com/jonschlinkert/shallow-clone>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */r(46945),r(90188);const n=Symbol.prototype.valueOf,a=r(16943);function i(e,t){switch(a(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return c(e);case"symbol":return l(e);case"arraybuffer":return u(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return s(e);case"regexp":return o(e);case"error":return Object.create(e);default:return e}}function o(e){const t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,r=new e.constructor(e.source,t);return r.lastIndex=e.lastIndex,r}function u(e){const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function s(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}function c(e){const t=e.length,r=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(r),r}function l(e){return n?Object(n.call(e)):{}}e.exports=i},95179:function(e,t,r){"use strict";r(90083),r(69418);var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{while((void 0===t||t-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(a)throw a.error}}return o},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.unique=t.mergeWithRules=t.mergeWithCustomize=t["default"]=t.merge=t.CustomizeRule=t.customizeObject=t.customizeArray=void 0;var u=o(r(3186)),s=o(r(94118)),c=o(r(25473)),l=o(r(37271));t.unique=l["default"];var f=r(7870);t.CustomizeRule=f.CustomizeRule;var d=r(45571);function h(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return y({}).apply(void 0,i([e],a(t)))}function y(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(d.isUndefined(t)||r.some(d.isUndefined))throw new TypeError("Merging undefined is not supported");if(t.then)throw new TypeError("Promises are not supported");if(!t)return{};if(0===r.length){if(Array.isArray(t)){if(0===t.length)return{};if(t.some(d.isUndefined))throw new TypeError("Merging undefined is not supported");if(t[0].then)throw new TypeError("Promises are not supported");return s["default"](t,c["default"](e))}return t}return s["default"]([t].concat(r),c["default"](e))}}function p(e){return function(t,r,n){var o=Object.keys(e).find((function(e){return u["default"](e,n)}))||"";if(o)switch(e[o]){case f.CustomizeRule.Prepend:return i(i([],a(r)),a(t));case f.CustomizeRule.Replace:return r;case f.CustomizeRule.Append:default:return i(i([],a(t)),a(r))}}}function g(e){return y({customizeArray:function(t,r,n){var a=e;return n.split(".").forEach((function(e){a&&(a=a[e])})),d.isPlainObject(a)?b({currentRule:a,a:t,b:r}):"string"===typeof a?v({currentRule:a,a:t,b:r}):void 0}})}t.merge=h,t["default"]=h,t.mergeWithCustomize=y,t.customizeArray=p,t.mergeWithRules=g;var m=Array.isArray;function b(e){var t=e.currentRule,r=e.a,o=e.b;if(!m(r))return r;var u=[],s=r.map((function(e){if(!d.isPlainObject(t))return e;var r={},s=[],c={};Object.entries(t).forEach((function(e){var t=a(e,2),r=t[0],n=t[1];n===f.CustomizeRule.Match?s.push(r):c[r]=n}));var l=o.filter((function(t){var r=s.every((function(r){var n,a;return(null===(n=e[r])||void 0===n?void 0:n.toString())===(null===(a=t[r])||void 0===a?void 0:a.toString())}));return r&&u.push(t),r}));return d.isPlainObject(e)?(Object.entries(e).forEach((function(e){var o=a(e,2),u=o[0],s=o[1],h=t;switch(t[u]){case f.CustomizeRule.Match:r[u]=s,Object.entries(h).forEach((function(e){var t=a(e,2),n=t[0],i=t[1];if(i===f.CustomizeRule.Replace&&l.length>0){var o=w(l)[n];"undefined"!==typeof o&&(r[n]=o)}}));break;case f.CustomizeRule.Append:if(!l.length){r[u]=s;break}var y=w(l)[u];if(!m(s)||!m(y))throw new TypeError("Trying to append non-arrays");r[u]=s.concat(y);break;case f.CustomizeRule.Merge:if(!l.length){r[u]=s;break}var p=w(l)[u];if(!d.isPlainObject(s)||!d.isPlainObject(p))throw new TypeError("Trying to merge non-objects");r[u]=n(n({},s),p);break;case f.CustomizeRule.Prepend:if(!l.length){r[u]=s;break}var g=w(l)[u];if(!m(s)||!m(g))throw new TypeError("Trying to prepend non-arrays");r[u]=g.concat(s);break;case f.CustomizeRule.Replace:r[u]=l.length>0?w(l)[u]:s;break;default:var v=c[u],x=l.map((function(e){return e[u]})).reduce((function(e,t){return m(e)&&m(t)?i(i([],a(e)),a(t)):e}),[]);r[u]=b({currentRule:v,a:s,b:x});break}})),r):e}));return s.concat(o.filter((function(e){return!u.includes(e)})))}function v(e){var t=e.currentRule,r=e.a,n=e.b;switch(t){case f.CustomizeRule.Append:return r.concat(n);case f.CustomizeRule.Prepend:return n.concat(r);case f.CustomizeRule.Replace:return n}return r}function w(e){return e[e.length-1]}function x(e){return function(t,r,n){switch(e[n]){case f.CustomizeRule.Prepend:return s["default"]([r,t],c["default"]());case f.CustomizeRule.Replace:return r;case f.CustomizeRule.Append:return s["default"]([t,r],c["default"]())}}}t.customizeObject=x},25473:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{while((void 0===t||t-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(a)throw a.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(r(44042)),u=i(r(94118)),s=r(45571),c=Array.isArray;function l(e){var t=void 0===e?{}:e,r=t.customizeArray,i=t.customizeObject,f=t.key;return function e(t,d,h){var y=f?f+"."+h:h;if(s.isFunction(t)&&s.isFunction(d))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e(t.apply(void 0,a([],n(r))),d.apply(void 0,a([],n(r))),h)};if(c(t)&&c(d)){var p=r&&r(t,d,y);return p||a(a([],n(t)),n(d))}if(s.isRegex(d))return d;if(s.isPlainObject(t)&&s.isPlainObject(d)){p=i&&i(t,d,y);return p||u["default"]([t,d],l({customizeArray:r,customizeObject:i,key:y}))}return s.isPlainObject(d)?o["default"](d):c(d)?a([],n(d)):d}}t["default"]=l},94118:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{while((void 0===t||t-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(a)throw a.error}}return o};function n(e,t){var n=r(e),i=n[0],o=n.slice(1),u=i;return o.forEach((function(e){u=a(u,e,t)})),u}function a(e,t,r){var n={};return Object.keys(e).concat(Object.keys(t)).forEach((function(a){var i=r(e[a],t[a],a);n[a]="undefined"===typeof i?e[a]:i})),n}t.__esModule=!0,t["default"]=n},7870:function(e,t){"use strict";t.__esModule=!0,t.CustomizeRule=void 0,function(e){e["Match"]="match",e["Merge"]="merge",e["Append"]="append",e["Prepend"]="prepend",e["Replace"]="replace"}(t.CustomizeRule||(t.CustomizeRule={}))},37271:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{while((void 0===t||t-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(u){a={error:u}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(a)throw a.error}}return o},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e};function a(e,t,a){var i=new Set(t);return function(t,o,u){return u===e&&Array.from(n(n([],r(t)),r(o)).map((function(e){return{key:a(e),value:e}})).map((function(e){var t=e.key,r=e.value;return{key:i.has(t)?t:r,value:r}})).reduce((function(e,t){var r=t.key,n=t.value;return e["delete"](r),e.set(r,n)}),new Map).values())}}t.__esModule=!0,t["default"]=a},45571:function(e,t){"use strict";function r(e){return e instanceof RegExp}function n(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e}function i(e){return"undefined"===typeof e}t.__esModule=!0,t.isUndefined=t.isPlainObject=t.isFunction=t.isRegex=void 0,t.isRegex=r,t.isFunction=n,t.isPlainObject=a,t.isUndefined=i},3186:function(e){"use strict";var t=/(\*|\?)/g;function r(e,t){this.text=e=e||"",this.hasWild=e.indexOf("*")>=0,this.separator=t,this.parts=e.split(t).map(this.classifyPart.bind(this))}r.prototype.match=function(e){var t,r,n=!0,a=this.parts,i=a.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(r=(e||"").split(this.separator),t=0;n&&t<i;t++)"*"!==a[t]&&(n=t<r.length&&(a[t]instanceof RegExp?a[t].test(r[t]):a[t]===r[t]));n=n&&r}else n=!1;else if("function"==typeof e.splice)for(n=[],t=e.length;t--;)this.match(e[t])&&(n[n.length]=e[t]);else if("object"==typeof e)for(var o in n={},e)this.match(o)&&(n[o]=e[o]);return n},r.prototype.classifyPart=function(e){return"*"===e?e:e.indexOf("*")>=0||e.indexOf("?")>=0?new RegExp(e.replace(t,".$1")):e},e.exports=function(e,t,n){var a=new r(e,n||/[\/\.]/);return"undefined"!=typeof t?a.match(t):a}},75858:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"left"},[r("div",{staticClass:"tree"},[r("Tab",{attrs:{tabIndex:e.role,"tab-data":[{id:1,name:"学生"},{id:2,name:"学校"},{id:3,name:"个人"}]},on:{changeIndex:e.changeIndex}}),r("MyTree")],1),r("div",{staticClass:"btn"},[2!==e.role?r("a-button",{attrs:{block:"",type:"primary"},on:{click:e.addDirectory}},[e._v(" 添加根目录 ")]):e._e(),r("a-button",{staticStyle:{"border-bottom-left-radius":"8px","border-bottom-right-radius":"8px"},attrs:{block:""},on:{click:function(t){e.visible=!0}}},[e._v(" 回收站 ")])],1),r("a-modal",{attrs:{title:"回收站",width:"60%"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("template",{slot:"footer"},[r("a-button",{key:"back",attrs:{type:"danger"},on:{click:e.deleteData}},[e._v(" 删除")]),r("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.recoveryData}},[e._v(" 恢复 ")])],1),r("a-table",{attrs:{"row-selection":e.rowSelection,rowKey:function(e){return e.id},columns:e.columns,"data-source":e.data},scopedSlots:e._u([{key:"sourceName",fn:function(t,n){return r("span",{},[e._v(" 【"+e._s(0===n.sourceType?"目录":1===n.sourceType?"课程":"考题")+"】"+e._s(t)+" ")])}},{key:"catalogNamePath",fn:function(t,n){return r("span",{},[e._v(" "+e._s(t)+"/"+e._s(0===n.sourceType?"目录":1===n.sourceType?"课程":"考题")+"/"+e._s(n.sourceName)+" ")])}}])})],2)],1)},a=[],i=(r(69418),r(95179)),o=r.n(i),u=r(26490),s=r(1481),c=r(35462),l=r(98646);function f(e){return(0,l.hi)(Object.assign((0,l.aP)("GET",e),{url:`${l.jz}/api/recycler/entity/${e.page}/${e.size}`}))}function d(e){return(0,l.hi)(Object.assign((0,l.aP)("PUT",e),{url:`${l.jz}/api/recycler/entity/del`}))}function h(e){return(0,l.hi)(Object.assign((0,l.aP)("PUT",e),{url:`${l.jz}/api/recycler/entity/recover`}))}var y={name:"SideLeft",components:{Tab:()=>r.e(760).then(r.bind(r,60760)),MyTree:()=>r.e(7356).then(r.bind(r,50769))},data(){return{tabIndex:1,visible:!1,treeData:[],columns:[{title:"名称",dataIndex:"sourceName",scopedSlots:{customRender:"sourceName"}},{title:"原位置",dataIndex:"catalogNamePath",scopedSlots:{customRender:"catalogNamePath"}},{title:"删除时间",dataIndex:"createTime"}],data:[],selectedRowKeys:[]}},computed:{...(0,u.rn)({role:e=>e.role,courseId:e=>e.c.courseId,catalogueList:e=>e.catalogueList}),rowSelection(){return{onChange:(e,t)=>{this.selectedRowKeys=e,console.log(`selectedRowKeys: ${e}`,"selectedRows: ",t)}}}},watch:{visible(e){e&&this.getData()}},mounted(){this.$store.dispatch("getCatalogueList",this.role).then((e=>{this.$router.replace({query:o()(this.$route.query,{catalogId:e.extra[0].id})}),this.getCourseListData(e.extra[0].id).then((e=>{e.extra.length>0&&(this.setCourseId(e.extra[0].id),(0,c.vz)(e.extra[0].id).then((t=>{this.replaceContent(t.extra),this.getCourseTagAttrData(e.extra[0].id)})))}))}))},methods:{...(0,u.OI)({setCatalogueList:"setCatalogueList"}),...(0,u.OI)("c",["setCourseId","changeCourseContentId","replaceContent"]),...(0,u.nv)({changeRole:"changeRole"}),...(0,u.nv)("c",["getCourseListData","getCourseTagAttrData"]),addNodes(e,t){(0,s.kJ)(e).then((e=>{this.treeData=e.extra.map((({catalogName:e,childList:t,...r})=>({name:e,children:t,...r}))),t()}))},changeIndex(e){this.$store.commit("c/checkedOtherItem",!1),this.$store.dispatch("p/changeSelectId",""),this.changeCourseContentId(""),this.tabIndex=e,this.role!==e&&(1!==this.role||"processing"!==this.$route.name&&"result"!==this.$route.name||this.$router.push("/course/created"),this.changeRole(e).then((()=>{this.$store.dispatch("getCatalogueList",this.role).then((e=>{this.$router.replace({query:o()(this.$route.query,{catalogId:e.extra[0].id})}),this.getCourseListData(e.extra[0].id).then((e=>{e.extra.length>0&&(this.setCourseId(e.extra[0].id),(0,c.vz)(e.extra[0].id).then((t=>{this.replaceContent(t.extra),this.getCourseTagAttrData(e.extra[0].id)})))}))}))})))},addDirectory(){(0,s.kJ)({pid:this.role,catalogName:"新建目录",catalogParentId:this.role,classify:this.role,catalogIndex:1,catalogIdPath:this.role.toString()}).then((e=>{e.extra&&this.setCatalogueList([...this.catalogueList,e.extra])}))},getData(){f({page:1,size:99999}).then((e=>{this.data=e.extra.records}))},recoveryData(){0!==this.selectedRowKeys.length?h(this.selectedRowKeys).then((e=>{e.extra&&(this.data=this.data.filter((e=>!this.selectedRowKeys.includes(e.id))),this.visible=!1)})):this.$error({title:"请选择想要恢复的内容！"})},deleteData(){const e=this;0!==this.selectedRowKeys.length?this.$confirm({title:"是否确定要删除选中的数据?",okText:"删除",maskClosable:!0,okType:"danger",cancelText:"取消",onOk:()=>{d(e.selectedRowKeys).then((t=>{t.extra&&(e.data=e.data.filter((t=>!e.selectedRowKeys.includes(t.id))))}))},onCancel:()=>{console.log("Cancel")}}):this.$error({title:"请选择想要删除的内容！"})}}},p=y,g=r(35471),m=(0,g.Z)(p,n,a,!1,null,"1bb95bee",null),b=m.exports}}]);