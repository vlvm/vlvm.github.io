"use strict";(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[8862],{48862:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"courseContent"},[n("draggable",{attrs:{disabled:""===t.selectId||["0","1","2","3"].includes(t.editorType),filter:".forbid"},on:{start:t.onStart,end:t.onEnd},model:{value:t.contentData,callback:function(e){t.contentData=e},expression:"contentData"}},[n("transition-group",t._l("0"===t.screenCourse?t.contentData:t.questionData,(function(e){return n("div",{key:e.id,staticClass:"quesBox"},[n("ContentQuestion",{key:e.id,class:e.id===t.selectId?"":"forbid",attrs:{data:e}})],1)})),0)],1),1===t.showDiscussionArea?n("a-button",{attrs:{type:"primary",icon:"question-circle",block:""}},[t._v(" 讨论区 ")]):t._e(),["0","1","2","3"].includes(t.editorType)?n("div",{staticClass:"stateBox"},["0"===t.editorType?n("p",[t._v(" 多题关联后，首题题干将被共享，并统计关联后总分！ ")]):t._e(),"1"===t.editorType?n("p",[t._v(" 请按顺序选择试题，后续试题将按照首题题号，顺序排列 ")]):t._e(),"2"===t.editorType?n("p",[t._v("连续设分后，所选题目分数将和首体分数相同")]):t._e(),n("a-space",{attrs:{size:10}},[n("a-button",{on:{click:t.clearData}},[t._v("取消")]),["0","1","2"].includes(t.editorType)?n("a-button",{attrs:{type:"primary"},on:{click:t.relationTrue}},[t._v(" 确定 ")]):t._e()],1)],1):t._e()],1)},i=[],a=n(7204),o=(n(21206),n(68428),n(58742),n(52892),n(52731),n(99453),n(69418),n(13176),n(72535)),c=n.n(o),s=n(26490),u={name:"ContentBox",components:{draggable:c(),ContentQuestion:function(){return n.e(1652).then(n.bind(n,1652))}},data:function(){return{}},computed:(0,a.Z)((0,a.Z)({contentData:{get:function(){return this.$store.state.p.contentData},set:function(t){this.replaceContent(t)}}},(0,s.rn)({editorType:function(t){return t.p.selectItem.editorType},selectId:function(t){return t.p.selectItem.selectId},relation:function(t){return t.p.selectItem.relation},screenCourse:function(t){return t.p.screenCourse},showAnswerArea:function(t){return t.p.showAnswerArea},showDiscussionArea:function(t){return t.p.showDiscussionArea},contentCheckedArr:function(t){return t.p.contentCheckedArr}})),(0,s.Se)({questionData:"p/questionData"})),methods:(0,a.Z)((0,a.Z)({},(0,s.nv)("p",["changeEditorType","changeSelectId","replaceContent","changeContentCheckedArr"])),{},{onStart:function(){this.drag=!0},onEnd:function(){this.drag=!1,this.changeSelectId("")},relationTrue:function(){var t=this,e=this.contentData.findIndex((function(e){return e.id===t.contentCheckedArr[0]}));if("0"===this.editorType){var n=JSON.parse(JSON.stringify(this.contentData));n.forEach((function(e){-1!==t.contentCheckedArr.indexOf(e.id)&&(e.relation=t.contentCheckedArr)})),this.replaceContent(n),this.clearData()}else if("1"===this.editorType){var r=JSON.parse(JSON.stringify(this.contentData)),i=r[e].quesNum;r.forEach((function(e){t.contentCheckedArr.includes(e.id)&&(e.quesNum=i++)})),this.replaceContent(r),this.clearData()}else if("2"===this.editorType){var a=JSON.parse(JSON.stringify(this.contentData));a.forEach((function(n){t.contentCheckedArr.includes(n.id)&&(n.point=t.contentData[e].point)})),this.replaceContent(a),this.clearData()}},clearData:function(){this.changeEditorType(""),this.changeSelectId(""),this.changeContentCheckedArr([])}})},d=u,l=n(35471),h=(0,l.Z)(d,r,i,!1,null,"2c88e452",null),p=h.exports}}]);