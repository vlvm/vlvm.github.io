"use strict";(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[3788],{13788:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"courseContent",style:{height:t.height-("0"===t.role?141:105)+"px"}},[n("draggable",{attrs:{disabled:t.off,filter:".forbid"},on:{start:t.onStart,end:t.onEnd},model:{value:t.contentData,callback:function(e){t.contentData=e},expression:"contentData"}},[n("transition-group",t._l(t.contentData,(function(e){return n("div",{key:e.id,staticClass:"quesBox"},[n("ContentQuestion",{key:e.id,class:e.id===t.selectId?"":"forbid",attrs:{data:e}})],1)})),0)],1),1===t.showDiscussionArea?n("a-button",{attrs:{type:"primary",icon:"question-circle",block:""}},[t._v(" 讨论区 ")]):t._e(),["0","1","2","3"].includes(t.editorType)?n("div",{staticClass:"stateBox"},["0"===t.editorType?n("p",[t._v(" 多题关联后，首题题干将被共享，并统计关联后总分！ ")]):t._e(),"1"===t.editorType?n("p",[t._v(" 请按顺序选择试题，后续试题将按照首题题号，顺序排列 ")]):t._e(),"2"===t.editorType?n("p",[t._v("连续设分后，所选题目分数将和首体分数相同")]):t._e(),n("a-space",{attrs:{size:10}},[n("a-button",{on:{click:t.clearData}},[t._v("取消")]),["0","1","2"].includes(t.editorType)?n("a-button",{attrs:{type:"primary"},on:{click:t.relationTrue}},[t._v(" 确定 ")]):t._e(),"3"===t.editorType?[n("a-button",{attrs:{type:"primary"}},[t._v(" 拷贝 ")]),n("a-button",{attrs:{type:"danger"},on:{click:t.deleteContents}},[t._v(" 删除 ")])]:t._e()],2)],1):t._e()],1)},o=[],c=n(4367),i=(n(41539),n(78783),n(33948),n(26699),n(34553),n(38862),n(54747),n(32023),n(57327),n(6390)),a=n.n(i),s=n(34665),u={name:"ContentBox",components:{draggable:a(),ContentQuestion:function(){return n.e(8258).then(n.bind(n,19183))}},data:function(){return{}},computed:(0,c.Z)({off:function(){return""===this.selectId||["0","1","2","3"].includes(this.editorType)},contentData:{get:function(){return this.$store.state.c.contentData},set:function(t){this.replaceContent(t)}}},(0,s.rn)({height:function(t){return t.height},role:function(t){return t.role},editorType:function(t){return t.c.selectItem.editorType},selectId:function(t){return t.c.selectItem.selectId},relation:function(t){return t.c.selectItem.relation},showAnswerArea:function(t){return t.c.showAnswerArea},showDiscussionArea:function(t){return t.c.showDiscussionArea},contentCheckedArr:function(t){return t.c.contentCheckedArr}})),methods:(0,c.Z)((0,c.Z)({},(0,s.nv)("c",["changeEditorType","changeSelectId","replaceContent","changeContentCheckedArr"])),{},{onStart:function(){this.drag=!0},onEnd:function(){this.drag=!1,this.changeSelectId("")},relationTrue:function(){var t=this,e=this.contentData.findIndex((function(e){return e.id===t.contentCheckedArr[0]}));if("0"===this.editorType){var n=JSON.parse(JSON.stringify(this.contentData));n.forEach((function(e){-1!==t.contentCheckedArr.indexOf(e.id)&&(e.relation=t.contentCheckedArr)})),this.replaceContent(n),this.clearData()}else if("1"===this.editorType){var r=JSON.parse(JSON.stringify(this.contentData)),o=r[e].quesNum;r.forEach((function(e){t.contentCheckedArr.includes(e.id)&&(e.quesNum=o++)})),this.replaceContent(r),this.clearData()}else if("2"===this.editorType){var c=JSON.parse(JSON.stringify(this.contentData));c.forEach((function(n){t.contentCheckedArr.includes(n.id)&&(n.point=t.contentData[e].point)})),this.replaceContent(c),this.clearData()}},deleteContents:function(){var t=this;this.$confirm({title:"是否确定要删除所选内容?",content:"内容删除后不可恢复，您是否确定删除内容？",okText:"删除",maskClosable:!0,okType:"danger",cancelText:"取消",onOk:function(){t.replaceContent(t.contentData.filter((function(e){return!t.contentCheckedArr.includes(e.id)}))),t.clearData()},onCancel:function(){console.log("Cancel")}})},clearData:function(){this.changeEditorType(""),this.changeSelectId(""),this.changeContentCheckedArr([])}})},l=u,d=n(43736),h=(0,d.Z)(l,r,o,!1,null,"265f9dff",null),f=h.exports}}]);