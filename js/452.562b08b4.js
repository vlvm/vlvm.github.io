"use strict";(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[452],{18452:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"center",style:{height:e.height-20+"px"}},["0"===e.role?s("Tab",{attrs:{tabIndex:e.tabIndex,"tab-data":e.tabData},on:{changeIndex:e.changeIndex}}):e._e(),s("div",{staticClass:"tabs"},[s("div",{staticClass:"swiper_box"},[e.courseList.length>4?s("a-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"left"},on:{click:e.slidePrev}}):e._e(),s("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:e.swiperOption}},e._l(e.courseList,(function(t,i){return s("swiper-slide",{key:t.id,class:{sideActive:e.sideIndex===t.id}},[s("div",{staticClass:"courseName"},[s("a-tooltip",{attrs:{placement:"bottomLeft",title:""+t.name+i}},[e._v(" "+e._s(t.name)+e._s(i)+" ")])],1),s("div",[s("a-dropdown",{attrs:{trigger:["click"]}},[s("a-icon",{attrs:{type:"more"},on:{click:function(e){return e.stopPropagation()}}}),s("a-menu",{attrs:{slot:"overlay"},on:{click:e.dropdownClick},slot:"overlay"},[s("a-menu-item",{key:"0"},[s("a-icon",{attrs:{type:"edit"}}),e._v(" 重命名 ")],1),s("a-menu-item",{key:"1"},[s("a-icon",{attrs:{type:"menu-fold"}}),e._v(" 左移 ")],1),s("a-menu-item",{key:"1"},[s("a-icon",{attrs:{type:"menu-unfold"}}),e._v(" 右移 ")],1),s("a-menu-item",{key:"2"},[s("a-icon",{attrs:{type:"scissor"}}),e._v(" 移动到 ")],1),s("a-menu-item",{key:"3"},[s("a-icon",{attrs:{type:"copy"}}),e._v(" 创建副本 ")],1),s("a-menu-item",{key:"4",staticStyle:{color:"red"}},[s("a-icon",{attrs:{type:"delete"}}),e._v(" 删除 ")],1)],1)],1)],1)])})),1),e.courseList.length>4?s("a-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"right"},on:{click:e.slideNext}}):e._e()],1),s("a-button",{on:{click:function(t){e.modal.createCourseModal=!0}}},[e._v(" 创建课程")])],1),s("div",{staticClass:"center_content"},[s("div",{staticClass:"c_top"},[s("div",{staticClass:"btn_group_l"},[s("a-button",{attrs:{size:"small"},on:{click:function(t){e.modal.addText=!0}}},[e._v("文字")]),s("a-button",{attrs:{size:"small"},on:{click:e.uploadFile}},[e._v("文件")]),s("a-button",{attrs:{size:"small"},on:{click:function(t){e.$refs.RecordQuestions.showModal=!0}}},[e._v("题")]),s("input",{ref:"fileUpload",staticStyle:{display:"none"},attrs:{type:"file",accept:".docx,.doc,.dotx,.pptx,.ppt,.potx,.pdf,.mp4,.mp3"},on:{change:function(t){return e.upload(t)}}})],1),s("div",{staticClass:"btn_group_r"},[0===e.showAnswerArea?s("a-button",{attrs:{size:"small"},on:{click:function(t){return e.changeAnswerArea(0)}}},[e._v(" 显示作答区域 ")]):e._e(),1===e.showAnswerArea?s("a-button",{attrs:{size:"small"},on:{click:function(t){return e.changeAnswerArea(1)}}},[e._v(" 隐藏作答区 ")]):e._e(),s("a-button",{attrs:{size:"small"},on:{click:function(t){e.$refs.CourseFilterModal.showModal=!0}}},[e._v(" 筛选 ")])],1)]),s("ContentBox",{ref:"contentBox"})],1),s("a-modal",{attrs:{title:"新建课程"},on:{ok:e.handleOk},model:{value:e.modal.createCourseModal,callback:function(t){e.$set(e.modal,"createCourseModal",t)},expression:"modal.createCourseModal"}},[s("a-input",{attrs:{placeholder:"请输入课程名称"}})],1),s("a-modal",{attrs:{title:"重命名课程"},on:{ok:e.handleOk},model:{value:e.modal.visible,callback:function(t){e.$set(e.modal,"visible",t)},expression:"modal.visible"}},[s("a-input",{attrs:{placeholder:"请输入课程名称",value:e.courseName}})],1),s("a-modal",{attrs:{width:870,title:"添加文字"},on:{ok:e.addText},model:{value:e.modal.addText,callback:function(t){e.$set(e.modal,"addText",t)},expression:"modal.addText"}},[s("Editor",{ref:"editor"})],1),s("RecordQuestions",{ref:"RecordQuestions"}),s("CourseFilterModal",{ref:"CourseFilterModal",on:{contentFilter:e.contentFilter}})],1)},a=[],n=s(70614);function o(e){let t=e.lastIndexOf("/"),s=e.lastIndexOf("\\"),i=Math.max(t,s);return i<0?e:e.substring(i+1)}var r=s(34665),l={name:"SideCenter",components:{Tab:()=>s.e(369).then(s.bind(s,64369)),swiper:n.swiper,swiperSlide:n.swiperSlide,Editor:()=>s.e(155).then(s.bind(s,46155)),ContentBox:()=>Promise.all([s.e(390),s.e(788)]).then(s.bind(s,13788)),CourseFilterModal:()=>s.e(374).then(s.bind(s,69374)),RecordQuestions:()=>s.e(306).then(s.bind(s,66306))},data(){return{modal:{createCourseModal:!1,visible:!1,addText:!1},tabIndex:"0",drag:!1,tabData:[{id:"0",name:"创建课程"},{id:"1",name:"处理课程"},{id:"2",name:"课程结果"}],swiperOption:{allowTouchMove:!1,slidesPerView:4,spaceBetween:5,on:{tap:()=>{this.sideIndex=this.courseList[this.swiper.clickedIndex].id,console.log(this.sideIndex)}}},sideIndex:0,courseList:[{id:0,name:"课程"},{id:1,name:"课程"},{id:2,name:"课程"},{id:3,name:"课程课程课程课程课程课程课程课程课程课程"},{id:4,name:"课程"}]}},computed:{swiper(){return this.$refs.mySwiper.swiper},courseName(){return this.courseList[this.sideIndex].name+this.sideIndex},...(0,r.rn)({height:e=>e.height,role:e=>e.role,showAnswerArea:e=>e.c.showAnswerArea,contentData:e=>e.c.contentData,selectId:e=>e.c.selectItem.selectId})},methods:{...(0,r.nv)("c",["replaceContent","changeAnswerArea","changeSelectId"]),handleOk(){this.modal.visible=!1},changeIndex(e){this.changeSelectId(""),this.tabIndex=e,"0"===e?this.$router.push("/course/created"):"1"===e?this.$router.push("/course/processing"):"2"===e&&this.$router.push("/course/result")},dropdownClick({key:e}){switch(e){case"0":this.modal.visible=!0;break;case"1":break;case"2":break;case"3":break;case"4":this.$confirm({title:"是否确定要删除这个课程?",okText:"删除",okType:"danger",cancelText:"取消",onOk(){console.log("OK")},onCancel(){console.log("Cancel")}});break}},slidePrev(){this.swiper.isBeginning?this.$message.warning("已经是第一个课程了！"):this.swiper.slidePrev()},slideNext(){this.swiper.isEnd?this.$message.warning("已经是最后一个课程了！"):this.swiper.slideNext()},addText(){if(""===this.$refs.editor.editor.txt.text())return void this.$message.warning("请输入文字内容！");let e={id:(new Date).getTime(),type:0,important:0,ques:this.$refs.editor.editorHtml};if(""===this.selectId)this.replaceContent([...this.contentData,e]),this.modal.addText=!1,this.$nextTick((()=>{this.$refs.contentBox.scrollTop=this.$refs.contentBox.clientHeight}));else{let t=this.contentData.findIndex((e=>e.id===this.selectId)),s=this.contentData.concat();s.splice(t+1,0,e),this.replaceContent(s),this.modal.addText=!1}},uploadFile(){this.$refs.fileUpload.click()},upload(e){console.log(o(e.target.value));let t={id:(new Date).getTime(),type:1,important:0,ques:o(e.target.value)};if(""===this.selectId)this.replaceContent([...this.contentData,t]),this.$nextTick((()=>{this.$refs.contentBox.scrollTop=this.$refs.contentBox.clientHeight}));else{let e=this.contentData.findIndex((e=>e.id===this.selectId)),s=this.contentData.concat();s.splice(e+1,0,t),this.replaceContent(s)}},contentFilter(){}}},c=l,d=s(43736),u=(0,d.Z)(c,i,a,!1,null,"c67c6c5a",null),h=u.exports}}]);