"use strict";(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[3803],{23803:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"courseContent",style:{height:e.height-141+"px"}},[n("draggable",{attrs:{disabled:""===e.selectId||["0","1","2","3"].includes(e.editorType),filter:".forbid"},on:{start:e.onStart,end:e.onEnd},model:{value:e.contentData,callback:function(t){e.contentData=t},expression:"contentData"}},[n("transition-group",e._l("0"===e.screenCourse?e.contentData:e.questionData,(function(t){return n("div",{key:t.id,staticClass:"quesBox"},[n("ContentQuestion",{key:t.id,class:t.id===e.selectId?"":"forbid",attrs:{data:t}})],1)})),0)],1),1===e.showDiscussionArea?n("a-button",{attrs:{type:"primary",icon:"question-circle",block:""}},[e._v(" 讨论区 ")]):e._e(),["0","1","2","3"].includes(e.editorType)?n("div",{staticClass:"stateBox"},["0"===e.editorType?n("p",[e._v(" 多题关联后，首题题干将被共享，并统计关联后总分！ ")]):e._e(),"1"===e.editorType?n("p",[e._v(" 请按顺序选择试题，后续试题将按照首题题号，顺序排列 ")]):e._e(),"2"===e.editorType?n("p",[e._v("连续设分后，所选题目分数将和首体分数相同")]):e._e(),n("a-space",{attrs:{size:10}},[n("a-button",{on:{click:e.clearData}},[e._v("取消")]),["0","1","2"].includes(e.editorType)?n("a-button",{attrs:{type:"primary"},on:{click:e.relationTrue}},[e._v(" 确定 ")]):e._e()],1)],1):e._e()],1)},s=[],r=n(6390),i=n.n(r),o=n(34665),c={name:"ContentBox",components:{draggable:i(),ContentQuestion:()=>n.e(5143).then(n.bind(n,5143))},data(){return{}},computed:{contentData:{get(){return this.$store.state.p.contentData},set(e){this.replaceContent(e)}},...(0,o.rn)({height:e=>e.height,editorType:e=>e.p.selectItem.editorType,selectId:e=>e.p.selectItem.selectId,relation:e=>e.p.selectItem.relation,screenCourse:e=>e.p.screenCourse,showAnswerArea:e=>e.p.showAnswerArea,showDiscussionArea:e=>e.p.showDiscussionArea,contentCheckedArr:e=>e.p.contentCheckedArr}),...(0,o.Se)({questionData:"p/questionData"})},methods:{...(0,o.nv)("p",["changeEditorType","changeSelectId","replaceContent","changeContentCheckedArr"]),onStart(){this.drag=!0},onEnd(){this.drag=!1,this.changeSelectId("")},relationTrue(){let e=this.contentData.findIndex((e=>e.id===this.contentCheckedArr[0]));if("0"===this.editorType){let e=JSON.parse(JSON.stringify(this.contentData));e.forEach((e=>{-1!==this.contentCheckedArr.indexOf(e.id)&&(e.relation=this.contentCheckedArr)})),this.replaceContent(e),this.clearData()}else if("1"===this.editorType){let t=JSON.parse(JSON.stringify(this.contentData)),n=t[e].quesNum;t.forEach((e=>{this.contentCheckedArr.includes(e.id)&&(e.quesNum=n++)})),this.replaceContent(t),this.clearData()}else if("2"===this.editorType){let t=JSON.parse(JSON.stringify(this.contentData));t.forEach((t=>{this.contentCheckedArr.includes(t.id)&&(t.point=this.contentData[e].point)})),this.replaceContent(t),this.clearData()}},clearData(){this.changeEditorType(""),this.changeSelectId(""),this.changeContentCheckedArr([])}}},d=c,h=n(43736),l=(0,h.Z)(d,a,s,!1,null,"726ed5f0",null),p=l.exports}}]);