"use strict";(self["webpackChunkteacher_project"]=self["webpackChunkteacher_project"]||[]).push([[2273],{72273:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quesContent",class:{active:t.selectId===t.data.id&&t.isNoChecking,important:1===t.data.important&&2!==t.data.type},on:{"!click":function(e){return t.questionClick.apply(null,arguments)}}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.selectId===t.data.id&&t.isNoChecking,expression:"selectId === data.id && isNoChecking"}]},[2===t.data.type?[t.data.relation.length>0?n("li",{on:{click:function(e){return t.menuClick(-1)}}},[t._v("取消关联")]):t._e(),t.relationData.length>1&&0===t.data.relation.length?n("li",{on:{click:function(e){return e.stopPropagation(),t.menuClick("0")}}},[t._v(" 多题关联 ")]):t._e(),n("li",{on:{click:function(e){return t.menuClick("1")}}},[t._v("连续编号")]),n("li",{on:{click:function(e){return t.menuClick("2")}}},[t._v("连续设分")])]:t._e(),n("li",{on:{click:function(e){return t.menuClick("3")}}},[t._v("多选")]),n("li",{on:{click:function(e){return t.menuClick("4")}}},[t._v("拷贝")]),n("li",{on:{click:function(e){return t.menuClick("5")}}},[t._v("粘贴")]),n("li",{on:{click:function(e){return t.menuClick("6")}}},[t._v("删除")]),1!==t.data.type?n("li",{on:{click:function(e){return t.menuClick("7")}}},[t._v("编辑")]):t._e()],2),n("div",{staticClass:"item"},["0"===t.editorType&&t.relationData.includes(t.data.id)&&0===t.data.relation.length?n("a-checkbox",{attrs:{lable:"",value:t.data.id,checked:t.contentCheckedArr.includes(t.data.id)},on:{change:function(e){return t.relationChange(e,t.data.id)}}}):t._e(),2!==t.data.type||"1"!==t.editorType&&"2"!==t.editorType?t._e():n("a-checkbox",{attrs:{lable:"",value:t.data.id,checked:t.contentCheckedArr.includes(t.data.id)},on:{change:function(e){return t.numberChange()}}}),"3"===t.editorType?n("a-checkbox",{attrs:{lable:"",value:t.data.id,checked:t.contentCheckedArr.includes(t.data.id)},on:{change:function(e){return t.checkContent(e)}}}):t._e(),0===t.data.type?[n("div",{staticClass:"txt",domProps:{innerHTML:t._s(t.data.ques)}})]:t._e(),1===t.data.type?[n("div",{staticClass:"file"},[n("a-icon",{style:{fontSize:"32px",marginRight:"10px"},attrs:{type:"file-text"}}),t._v(" "+t._s(t.data.ques)+" ")],1)]:t._e(),2===t.data.type?[n("div",{staticClass:"itemContent"},[n("a-tag",[t._v("题号："+t._s(t.data.quesNum))]),n("a-tag",[t._v("分数："+t._s(t.data.point))]),1===t.data.important?n("a-tag",{attrs:{color:"#FF9933"}},[t._v("必做")]):t._e(),1===t.data.isReview?n("a-tag",{attrs:{color:"#FF9933"}},[t._v("自阅")]):t._e(),t.data.relation.length>0?n("a-tag",{attrs:{color:"#FF9933"}},[n("span",{staticClass:"iconfont lx-guanlian",staticStyle:{color:"#fff"}})]):t._e(),2!==t.showAnswerArea?[n("div",{staticClass:"txt",domProps:{innerHTML:t._s(t.data.ques)}}),t.selectId===t.data.id?[n("div",{staticClass:"rightAnswer",domProps:{innerHTML:t._s(t.data.rightAnswer)}}),n("div",{staticClass:"analysis",domProps:{innerHTML:t._s(t.data.analysis)}})]:t._e()]:t._e(),0===t.data.questionType?n("div",[1===t.showAnswerArea||2===t.showAnswerArea?n("ol",{staticClass:"singleChoice"},[n("li",[t._v("A")]),n("li",[t._v("B")]),n("li",[t._v("C")]),n("li",[t._v("D")]),n("li",[t._v("E")])]):t._e()]):t._e(),1===t.data.questionType?n("div",[1===t.showAnswerArea||2===t.showAnswerArea?n("ol",{staticClass:"singleChoice"},t._l(t.answerMethods,(function(e){return n("li",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()]):t._e()],2)]:t._e()],2),1===t.data.discussionArea?n("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"question-circle",size:"small"}},[t._v(" 讨论区 ")]):t._e()],1)},i=[],c=n(68932),r=n(4367),s=(n(26699),n(34553),n(47042),n(21249),n(41539),n(39714),n(57327),n(32023),n(54747),n(40561),n(92222),n(34665)),o={name:"ContentQuestion",props:{data:{type:Object,required:!0}},data:function(){return{answerMethods:[{id:"0",name:"拍照"},{id:"1",name:"手写"},{id:"2",name:"音频"},{id:"3",name:"视频"}]}},computed:(0,r.Z)({isNoChecking:function(){return!["0","1","2","3"].includes(this.editorType)},index:function(){var t=this;return this.contentData.findIndex((function(e){return e.id===t.data.id}))}},(0,s.rn)({showAnswerArea:function(t){return t.c.showAnswerArea},contentData:function(t){return t.c.contentData},editorType:function(t){return t.c.selectItem.editorType},selectId:function(t){return t.c.selectItem.selectId},selectItemData:function(t){return t.c.selectItem.selectItemData},relationData:function(t){return t.c.selectItem.relationData},contentCheckedArr:function(t){return t.c.contentCheckedArr}})),methods:(0,r.Z)((0,r.Z)({},(0,s.nv)("c",["changeEditorType","changeSelectId","getSelectItemData","replaceContent","changeContentCheckedArr","changeRelationData"])),{},{checkRelation:function(){var t=this.contentData.slice(this.index).findIndex((function(t){return 2!==t.type}));this.changeRelationData(this.contentData.slice(this.index).slice(0,t).map((function(t){return t.id})))},questionClick:function(){if(this.selectId===this.data.id||!this.isNoChecking)return this.changeSelectId(""),void this.getSelectItemData({});this.checkRelation(),this.changeSelectId(this.data.id),this.getSelectItemData(this.data)},menuClick:function(t){var e,n=this,a=this.contentData[this.index],i=a.id,c=a.type,r=a.relation,s=a.quesNum;switch(e=r&&r.length>0?this.contentData.map((function(t){if(r.includes(t.id))return t.quesNum})).filter((function(t){return t})).toString():s,t){case-1:this.changeEditorType(""),this.contentData.forEach((function(t){2===t.type&&t.relation.includes(i)&&(t.relation=[])}));break;case"0":this.changeEditorType(t);break;case"1":this.changeEditorType(t);break;case"2":this.changeEditorType(t);break;case"3":this.changeEditorType(t);break;case"4":this.changeEditorType(t);break;case"5":this.changeEditorType(t);break;case"6":this.changeEditorType(t),this.$confirm({title:"是否确定要删除?",content:2===c&&r&&r.length>0?"点击删除将会删除题号为 ".concat(e," 的内容"):"点击删除将会删除所选内容",okText:"删除",maskClosable:!0,okType:"danger",cancelText:"取消",onOk:function(){if(r&&r.length>0)return n.replaceContent(n.contentData.filter((function(t){return!r.includes(t.id)}))),!1;n.contentData.splice(n.index,1)},onCancel:function(){console.log("Cancel")}});break;case"7":this.changeEditorType(t);break}},relationChange:function(t,e){var n=this.relationData.findIndex((function(t){return t===e}));this.changeContentCheckedArr(this.relationData.slice(0,n+1))},numberChange:function(){var t=this,e=this.contentData.map((function(e,n){if(2===e.type&&n<=t.index)return e.id})).filter((function(t){return t}));this.changeContentCheckedArr(e)},checkContent:function(t){var e=this;if(t.target.checked)this.changeContentCheckedArr([].concat((0,c.Z)(this.contentCheckedArr),[this.data.id]));else{var n=this.contentCheckedArr.findIndex((function(t){return t===e.data.id}));this.changeContentCheckedArr(this.contentCheckedArr.splice(n,1))}}})},l=o,d=n(43736),u=(0,d.Z)(l,a,i,!1,null,"15ddb1b4",null),h=u.exports}}]);